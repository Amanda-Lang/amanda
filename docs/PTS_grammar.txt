program
  : block
  ;

block
  : ((expression|statement) SEMI )*
  ;

statement
  :
  | declaration
  | function_declaration
  | mostra_statement
  ;

mostra_statement
  : MOSTRA expression
  ;

expression
  : term (add_operator term)*
  ;

term
  : factor (multi_operator term)*
  ;

factor
  : INTEGER
  | LPAR expression RPAR
  | add_operator factor
  | IDENTIFIER (LPAR actual_parameters? RPAR)?
  ;

actual_parameters
  : IDENTIFIER (COMMA IDENTIFIER)*
  ;

mult_operator
  : STAR
  | SLASH
  | MODULO
  ;

add_operator
  : PLUS
  | MINUS
  ;

declaration
  : simple_declaration
  | array_declaration
  ;

simple_declaration
  : DECL type IDENTIFIER
  ;

array_declaration
  : VECTOR type IDENTIFIER LBRACKETS INTEGER RBRACKETS
  ;

type
  : IDENTIFIER
  ;

function_declaration
  : DEFINA IDENTIFIER LPAR formal_parameter_section? RPAR (DOUBLECOL type)? LBRACES function_block RBRACES
  ;

formal_parameter_section
  : type IDENTIFIER (COMMA type IDENTIFIER)*
  ;
